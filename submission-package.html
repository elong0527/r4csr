<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="This book will teach you how to prepare tables, listings, and figures for clinical study report and submit to regulatory agencies, the essential part of clinical trial development.">

<title>R for Clinical Study Reports and Submission - 14&nbsp; Submission package</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./submission-environment.html" rel="next">
<link href="./submission-overview.html" rel="prev">
<link href="./images/favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MKYDL3PNW1"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MKYDL3PNW1', { 'anonymize_ip': true});
</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<meta property="og:title" content="R for Clinical Study Reports and Submission - 14&nbsp; Submission package">
<meta property="og:description" content="Learn how to prepare tables, listings, and figures for clinical study report and submit to regulatory agencies, the essential part of clinical trial development.">
<meta property="og:image" content="https://r4csr.org/images/preview.jpg">
<meta property="og:site-name" content="R for Clinical Study Reports and Submission">
<meta name="twitter:title" content="R for Clinical Study Reports and Submission - 14&nbsp; Submission package">
<meta name="twitter:description" content="Learn how to prepare tables, listings, and figures for clinical study report and submit to regulatory agencies, the essential part of clinical trial development.">
<meta name="twitter:image" content="https://r4csr.org/images/preview.jpg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./submission-overview.html">eCTD submission</a></li><li class="breadcrumb-item"><a href="./submission-package.html"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Submission package</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R for Clinical Study Reports and Submission</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/elong0527/r4csr" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Delivering TLFs in CSR</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Overview</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-disposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Disposition</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-population.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Analysis population</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-baseline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Baseline characteristics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-efficacy-ancova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Efficacy table</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-efficacy-km.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Efficacy figure</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-ae-summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">AE summary</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-ae-specific.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Specific AE</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-assemble.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Assemble TLFs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Clinical trial project</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Overview</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project-folder.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Project folder</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Project management</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">eCTD submission</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./submission-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Overview</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./submission-package.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Submission package</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./submission-environment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Running environment</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link active" data-scroll-target="#prerequisites"><span class="header-section-number">14.1</span> Prerequisites</a></li>
  <li><a href="#the-whole-game" id="toc-the-whole-game" class="nav-link" data-scroll-target="#the-whole-game"><span class="header-section-number">14.2</span> The whole game</a>
  <ul class="collapse">
  <li><a href="#datasets" id="toc-datasets" class="nav-link" data-scroll-target="#datasets"><span class="header-section-number">14.2.1</span> <code>datasets</code></a></li>
  <li><a href="#programs" id="toc-programs" class="nav-link" data-scroll-target="#programs"><span class="header-section-number">14.2.2</span> <code>programs</code></a></li>
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes"><span class="header-section-number">14.2.3</span> Notes</a></li>
  </ul></li>
  <li><a href="#practical-considerations-for-r-package-submissions" id="toc-practical-considerations-for-r-package-submissions" class="nav-link" data-scroll-target="#practical-considerations-for-r-package-submissions"><span class="header-section-number">14.3</span> Practical considerations for R package submissions</a>
  <ul class="collapse">
  <li><a href="#source-location" id="toc-source-location" class="nav-link" data-scroll-target="#source-location"><span class="header-section-number">14.3.1</span> Source location</a></li>
  <li><a href="#dependency-locations" id="toc-dependency-locations" class="nav-link" data-scroll-target="#dependency-locations"><span class="header-section-number">14.3.2</span> Dependency locations</a></li>
  <li><a href="#r-version" id="toc-r-version" class="nav-link" data-scroll-target="#r-version"><span class="header-section-number">14.3.3</span> R version</a></li>
  <li><a href="#package-repo-version" id="toc-package-repo-version" class="nav-link" data-scroll-target="#package-repo-version"><span class="header-section-number">14.3.4</span> Package repo version</a></li>
  <li><a href="#system-environments" id="toc-system-environments" class="nav-link" data-scroll-target="#system-environments"><span class="header-section-number">14.3.5</span> System environments</a></li>
  </ul></li>
  <li><a href="#prepare-r-packages-for-submission" id="toc-prepare-r-packages-for-submission" class="nav-link" data-scroll-target="#prepare-r-packages-for-submission"><span class="header-section-number">14.4</span> Prepare R packages for submission</a>
  <ul class="collapse">
  <li><a href="#pack" id="toc-pack" class="nav-link" data-scroll-target="#pack"><span class="header-section-number">14.4.1</span> Pack</a></li>
  <li><a href="#verify" id="toc-verify" class="nav-link" data-scroll-target="#verify"><span class="header-section-number">14.4.2</span> Verify</a></li>
  <li><a href="#unpack" id="toc-unpack" class="nav-link" data-scroll-target="#unpack"><span class="header-section-number">14.4.3</span> Unpack</a></li>
  </ul></li>
  <li><a href="#prepare-analysis-programs-for-submission" id="toc-prepare-analysis-programs-for-submission" class="nav-link" data-scroll-target="#prepare-analysis-programs-for-submission"><span class="header-section-number">14.5</span> Prepare analysis programs for submission</a></li>
  <li><a href="#update-adrg" id="toc-update-adrg" class="nav-link" data-scroll-target="#update-adrg"><span class="header-section-number">14.6</span> Update ADRG</a></li>
  <li><a href="#update-arm" id="toc-update-arm" class="nav-link" data-scroll-target="#update-arm"><span class="header-section-number">14.7</span> Update ARM</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/elong0527/r4csr/edit/main/submission-package.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/elong0527/r4csr/issues/new" class="toc-action">Report an issue</a></p><p><a href="https://github.com/elong0527/r4csr/blob/main/submission-package.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-submission-package" class="quarto-section-identifier"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Submission package</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In this chapter, we will first give a high-level overview of what assets in the eCTD submission package we should focus on when submitting R code. Then, we will discuss how to prepare the proprietary R packages (if any), and make them be part of the submission package. In the end, we will provide reusable templates for updating Analysis Data Reviewer’s Guide (ADRG) and Analysis Results Metadata (ARM) so that the reviewers receive proper instructions to reproduce the analysis results.</p>
<section id="prerequisites" class="level2" data-number="14.1">
<h2 data-number="14.1" class="anchored" data-anchor-id="prerequisites"><span class="header-section-number">14.1</span> Prerequisites</h2>
<p>This chapter uses pkglite <span class="citation" data-cites="zhao2023electronic">(<a href="references.html#ref-zhao2023electronic" role="doc-biblioref">Zhao et al. 2023</a>)</span> to convert R source packages into text files and back.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"pkglite"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The demo project (R package) we will prepare for submission is called <a href="https://github.com/elong0527/esubdemo"><code>esubdemo</code></a>, which is available on GitHub. You can download or clone it:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/elong0527/esubdemo.git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The demo submission package (not to be confused with the R package above) is <a href="https://github.com/elong0527/ectddemo"><code>ectddemo</code></a>, which is also available on GitHub. You can download or clone it:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/elong0527/ectddemo.git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We assume the paths to the two folders are <code>esubdemo/</code> and <code>ectddemo/</code> below.</p>
</section>
<section id="the-whole-game" class="level2" data-number="14.2">
<h2 data-number="14.2" class="anchored" data-anchor-id="the-whole-game"><span class="header-section-number">14.2</span> The whole game</h2>
<p>In eCTD deliverable, the analysis datasets and source code are saved under the eCTD module 5 (clinical study reports) folder</p>
<pre><code>ectddemo/m5/datasets/&lt;study&gt;/analysis/adam/</code></pre>
<p>The files in two directories within the <code>adam/</code> folder are critical for documenting analysis using R: <code>datasets/</code> and <code>programs/</code>.</p>
<pre><code>ectddemo/m5/datasets/ectddemo/analysis/adam/
├── datasets
│   ├── adae.xpt
│   ├── ...
│   ├── adrg.pdf
│   ├── analysis-results-metadata.pdf
│   ├── define.xml
│   └── define2-0-0.xsl
└── programs
    ├── r0pkgs.txt
    ├── tlf-01-disposition.txt
    ├── tlf-02-population.txt
    ├── tlf-03-baseline.txt
    ├── tlf-04-efficacy.txt
    ├── tlf-05-ae-summary.txt
    └── tlf-06-ae-spec.txt</code></pre>
<p>The special considerations for each component are listed below.</p>
<section id="datasets" class="level3" data-number="14.2.1">
<h3 data-number="14.2.1" class="anchored" data-anchor-id="datasets"><span class="header-section-number">14.2.1</span> <code>datasets</code></h3>
<p>Folder path: <code>ectddemo/m5/datasets/ectddemo/analysis/adam/datasets/</code>.</p>
<ul>
<li>ADaM data in <code>.xpt</code> format: created by SAS or R.</li>
<li><code>define.xml</code>: created by Pinnacle 21.</li>
<li>ADRG (Analysis Data Reviewer’s Guide)
<ul>
<li>“Macro Programs” section: provide R and R package versions with a snapshot date.</li>
<li>Appendix: provide step-by-step instructions for reviewers to reproduce the running environment and rerun analyses.</li>
</ul></li>
<li>ARM (Analysis Results Metadata): provide the links between TLFs and analysis programs in tables.</li>
</ul>
</section>
<section id="programs" class="level3" data-number="14.2.2">
<h3 data-number="14.2.2" class="anchored" data-anchor-id="programs"><span class="header-section-number">14.2.2</span> <code>programs</code></h3>
<p>Folder path: <code>ectddemo/m5/datasets/ectddemo/analysis/adam/programs/</code>.</p>
<ul>
<li><code>r0pkgs.txt</code>: contains all internally developed proprietary R packages.</li>
<li>Other <code>.txt</code> files: each contains R code for a specific analysis.</li>
</ul>
</section>
<section id="notes" class="level3" data-number="14.2.3">
<h3 data-number="14.2.3" class="anchored" data-anchor-id="notes"><span class="header-section-number">14.2.3</span> Notes</h3>
<p>To verify if the submission package works, rerun all analyses following the instructions defined in ADRG.</p>
<p>A few things need to be paid attention to in order to pass compliance checks:</p>
<ul>
<li>The file names under <code>programs/</code> should be in lower case letters (with no underscores or other special characters).</li>
<li>The <code>.txt</code> files should only contain ASCII characters. This can be verified by <code>pkglite::verify_ascii()</code></li>
<li>All <code>.docx</code> files should be converted to PDF files for formal submission.</li>
</ul>
<p>Now you have a general idea about the relevant components of the submission package. We will prepare the proprietary R packages in the following sections.</p>
</section>
</section>
<section id="practical-considerations-for-r-package-submissions" class="level2" data-number="14.3">
<h2 data-number="14.3" class="anchored" data-anchor-id="practical-considerations-for-r-package-submissions"><span class="header-section-number">14.3</span> Practical considerations for R package submissions</h2>
<p>Before we start, there are a few aspects to figure out in order to accurately identify the R packages for submission.</p>
<section id="source-location" class="level3" data-number="14.3.1">
<h3 data-number="14.3.1" class="anchored" data-anchor-id="source-location"><span class="header-section-number">14.3.1</span> Source location</h3>
<p>There are a few common places to host R (source) packages:</p>
<ol type="1">
<li>CRAN</li>
<li>Public Git repository</li>
<li>Private Git repository (accessible externally)</li>
<li>Private Git repository (inaccessible externally)</li>
</ol>
<p>For R packages hosted on CRAN or a public Git repository, you probably do not need to submit them as part of the submission package, as the reviewers can install them directly by following the instructions in ADRG.</p>
<p>For R packages hosted in private repositories, to avoid any complications in infrastructure, authentication, and communication, it is often recommended to submit them as part of the submission package.</p>
</section>
<section id="dependency-locations" class="level3" data-number="14.3.2">
<h3 data-number="14.3.2" class="anchored" data-anchor-id="dependency-locations"><span class="header-section-number">14.3.2</span> Dependency locations</h3>
<p>R package dependency is another major factor to consider before preparing your proprietary R package for submission.</p>
<p>For dependencies available from CRAN or public Git repositories, you can declare them directly using the regular <code>Imports</code> and <code>Suggests</code> syntax or the <a href="https://remotes.r-lib.org/articles/dependencies.html">remotes dependency syntax</a> in the <code>DESCRIPTION</code> file.</p>
<p>For dependencies hosted in private Git repositories, you should pack them with the primary R package(s) you want to submit, as pkglite supports packing multiple R packages into a single text file; then restore and install them in the order they are packed.</p>
</section>
<section id="r-version" class="level3" data-number="14.3.3">
<h3 data-number="14.3.3" class="anchored" data-anchor-id="r-version"><span class="header-section-number">14.3.3</span> R version</h3>
<p>Always use a consistent version of R for developing the TLFs and for submission. For example, you could enforce a rule to only use R <code>x.y.z</code> where <code>z = 1</code>, such as R <code>4.0.1</code> or R <code>4.1.1</code>. This can be automatically checked using a <a href="https://github.com/elong0527/esubdemo/blob/master/inst/startup.R">startup script</a> when the R project is opened.</p>
</section>
<section id="package-repo-version" class="level3" data-number="14.3.4">
<h3 data-number="14.3.4" class="anchored" data-anchor-id="package-repo-version"><span class="header-section-number">14.3.4</span> Package repo version</h3>
<p>Always use the same snapshot package repo for developing the TLFs and for submission. Again, this can be checked in the project startup script, as discussed in <a href="project-folder.html#sec-reproduce"><span>Section&nbsp;11.2</span></a>.</p>
</section>
<section id="system-environments" class="level3" data-number="14.3.5">
<h3 data-number="14.3.5" class="anchored" data-anchor-id="system-environments"><span class="header-section-number">14.3.5</span> System environments</h3>
<p>Introducing any extra external dependencies will likely increase the cost of qualification, validation, testing, and maintenance, especially under Windows. Therefore, it is recommended to keep the dependency chain simple, especially when involving compiled code (e.g., C, C++, Fortran).</p>
</section>
</section>
<section id="prepare-r-packages-for-submission" class="level2" data-number="14.4">
<h2 data-number="14.4" class="anchored" data-anchor-id="prepare-r-packages-for-submission"><span class="header-section-number">14.4</span> Prepare R packages for submission</h2>
<p>To prepare R packages for submission, one needs to pack the packages into text files, and then verify if the files only contain ASCII characters. With packed packages, one can unpack and install them from the text files, too.</p>
<section id="pack" class="level3" data-number="14.4.1">
<h3 data-number="14.4.1" class="anchored" data-anchor-id="pack"><span class="header-section-number">14.4.1</span> Pack</h3>
<p>Let’s pack the <code>esubdemo</code> package into a text file. Assume the source package path is <code>esubdemo/</code>. You should be able to pack the package with a single pipe:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"pkglite"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="st">"esubdemo/"</span> <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collate</span>(<span class="fu">file_ectd</span>(), <span class="fu">file_auto</span>(<span class="st">"inst"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pack</span>(<span class="at">output =</span> <span class="st">"r0pkgs.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/pack.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption class="figure-caption">Output of pkglite::pack()</figcaption>
</figure>
</div>
</div>
</div>
<p>Let’s open the generated text file:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">file.edit</span>(<span class="st">"r0pkgs.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/preview-txt.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption class="figure-caption">Preview the generated text file</figcaption>
</figure>
</div>
</div>
</div>
<p>What happened in the pipe? The function <code>pkglite::collate()</code> evaluates a specified scope of folders and files defined by a list of <strong>file specifications</strong>, and generates a <strong>file collection</strong> object. This file collection contains the metadata required to properly convert the files into text which is then used by <code>pkglite::pack()</code>. With this flow, you can define the scope of the R source package to be packed for submission in a flexible yet principled way.</p>
<p>To pack multiple R packages, simply feed multiple file collections as inputs:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pack</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"/path/to/pkg1/"</span> <span class="sc">%&gt;%</span> <span class="fu">collate</span>(<span class="fu">file_ectd</span>()),</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"/path/to/pkg2/"</span> <span class="sc">%&gt;%</span> <span class="fu">collate</span>(<span class="fu">file_ectd</span>()),</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">output =</span> <span class="st">"r0pkgs.txt"</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The R packages are always packed in the specified order and are always unpacked and installed in the same order. Therefore, make sure to pack the low-level dependencies first.</p>
<p>For more details on how to customize file specifications and operate on file collections, check out the vignette <a href="https://merck.github.io/pkglite/articles/filespec.html">generate file specifications</a> and <a href="https://merck.github.io/pkglite/articles/filecollection.html">curate file collections</a>.</p>
</section>
<section id="verify" class="level3" data-number="14.4.2">
<h3 data-number="14.4.2" class="anchored" data-anchor-id="verify"><span class="header-section-number">14.4.2</span> Verify</h3>
<p>You should always verify if the text file only contains ASCII characters:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">verify_ascii</span>(<span class="st">"r0pkgs.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This should give <code>TRUE</code> if the file only contains ASCII characters, or <code>FALSE</code> with the affected lines otherwise.</p>
</section>
<section id="unpack" class="level3" data-number="14.4.3">
<h3 data-number="14.4.3" class="anchored" data-anchor-id="unpack"><span class="header-section-number">14.4.3</span> Unpack</h3>
<p>One can unpack and install the package from the text file, too. For example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unpack</span>(<span class="st">"r0pkgs.txt"</span>, <span class="at">output =</span> <span class="st">"/tmp/"</span>, <span class="at">install =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If the test is successful, this command can be used in the ADRG instructions for restoring and installing the packed R package(s).</p>
<p>You can then proceed to move the file <code>r0pkgs.txt</code> to the folder <code>ectddemo/m5/datasets/ectddemo/analysis/adam/programs/</code>, or specify the output text file path above directly.</p>
</section>
</section>
<section id="prepare-analysis-programs-for-submission" class="level2" data-number="14.5">
<h2 data-number="14.5" class="anchored" data-anchor-id="prepare-analysis-programs-for-submission"><span class="header-section-number">14.5</span> Prepare analysis programs for submission</h2>
<p>Besides the R packages, we need to convert the R Markdown (<code>.Rmd</code>) files into <code>.txt</code> files and saved them in the <code>programs/</code> folder. You can do this with <code>knitr::purl()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>input_path <span class="ot">&lt;-</span> <span class="st">"esubdemo/vignettes/"</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>output_path <span class="ot">&lt;-</span> <span class="st">"ectddemo/m5/datasets/ectddemo/analysis/adam/programs/"</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>convert_rmd <span class="ot">&lt;-</span> <span class="cf">function</span>(filename, input_dir, output_dir) {</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">purl</span>(</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">file.path</span>(input_dir, <span class="fu">paste0</span>(filename, <span class="st">".Rmd"</span>)),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">output =</span> <span class="fu">file.path</span>(output_dir, <span class="fu">paste0</span>(filename, <span class="st">".txt"</span>))</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-01-disposition"</span> <span class="sc">%&gt;%</span> <span class="fu">convert_rmd</span>(input_path, output_path)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-02-population"</span> <span class="sc">%&gt;%</span> <span class="fu">convert_rmd</span>(input_path, output_path)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-03-baseline"</span> <span class="sc">%&gt;%</span> <span class="fu">convert_rmd</span>(input_path, output_path)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-04-efficacy"</span> <span class="sc">%&gt;%</span> <span class="fu">convert_rmd</span>(input_path, output_path)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-05-ae-summary"</span> <span class="sc">%&gt;%</span> <span class="fu">convert_rmd</span>(input_path, output_path)</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-06-ae-spec"</span> <span class="sc">%&gt;%</span> <span class="fu">convert_rmd</span>(input_path, output_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Optionally, you can add a header to the individual <code>.txt</code> files to explain the context and help the reviewers rerun the code. For example:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note to Reviewer</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># To rerun the code below, please refer to the ADRG appendix.</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># After the required packages are installed,</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># the path variable needs to be defined by using the example code below.</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># path = list(adam = "/path/to/esub/analysis/adam/datasets") # Modify to use actual location</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># path$outtable = path$outgraph = "." # Outputs saved to the current folder</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To automate this process:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>header <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="fu">textConnection</span>(<span class="st">"# Note to Reviewer</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="st"># To rerun the code below, please refer to the ADRG appendix.</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="st"># After the required packages are installed,</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="st"># the path variable needs to be defined by using the example code below.</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="st">#</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="st"># path = list(adam = </span><span class="sc">\"</span><span class="st">/path/to/esub/analysis/adam/datasets</span><span class="sc">\"</span><span class="st">) # Modify to use actual location</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="st"># path$outtable = path$outgraph = </span><span class="sc">\"</span><span class="st">.</span><span class="sc">\"</span><span class="st"> # Outputs saved to the current folder"</span>))</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>append_header <span class="ot">&lt;-</span> <span class="cf">function</span>(filename, output_dir, header) {</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  file <span class="ot">&lt;-</span> <span class="fu">file.path</span>(output_dir, <span class="fu">paste0</span>(filename, <span class="st">".txt"</span>))</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">readLines</span>(file)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">&lt;-</span> <span class="fu">c</span>(header, <span class="st">""</span>, x)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">writeLines</span>(y, <span class="at">con =</span> file)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">invisible</span>(file)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-01-disposition"</span> <span class="sc">%&gt;%</span> <span class="fu">append_header</span>(output_path, header)</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-02-population"</span> <span class="sc">%&gt;%</span> <span class="fu">append_header</span>(output_path, header)</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-03-baseline"</span> <span class="sc">%&gt;%</span> <span class="fu">append_header</span>(output_path, header)</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-04-efficacy"</span> <span class="sc">%&gt;%</span> <span class="fu">append_header</span>(output_path, header)</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-05-ae-summary"</span> <span class="sc">%&gt;%</span> <span class="fu">append_header</span>(output_path, header)</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="st">"tlf-06-ae-spec"</span> <span class="sc">%&gt;%</span> <span class="fu">append_header</span>(output_path, header)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="update-adrg" class="level2" data-number="14.6">
<h2 data-number="14.6" class="anchored" data-anchor-id="update-adrg"><span class="header-section-number">14.6</span> Update ADRG</h2>
<p>After we converted the R packages and R Markdown files into the appropriate formats and verified that they can be restored and executed correctly, we need update the ADRG to provide guidelines on how to use them.</p>
<p>Specifically, we need to update two sections in ADRG.</p>
<p>The first section is “Macro Programs”, where R and R package versions with a snapshot date are provided. For example:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>7.x Macro Programs</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>Submitted R programs have <span class="co">[</span><span class="ot">specific patterns</span><span class="co">]</span> in filenames.</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>All internally developed R functions are saved in the r0pkgs.txt file.</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>The recommended steps to unpack these R functions for analysis output</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>programs are described in the Appendix.</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>The tables below contain the software version and instructions</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>for executing the R analysis output programs:</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Program Name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Output Table</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Title</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">tlf-01-disposition.txt</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">Table x.y.z</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">Disposition of Patients</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">tlf-02-population.txt</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">Table x.y.z</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">Participants Accounting in Analysis Population (All Participants Randomized)</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">tlf-03-baseline.txt</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">Table x.y.z</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">Participant Baseline Characteristics (All Participants Randomized)</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">tlf-04-efficacy.txt</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">Table x.y.z</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">ANCOVA of Change from Baseline Glucose (mmol/L) at Week 24<br>
LOCF<br>
Efficacy Analysis Population</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">tlf-05-ae-summary.txt</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">Table x.y.z</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">Analysis of Adverse Event Summary (Safety Analysis Population)</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">tlf-06-ae-spec.txt</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">Table x.y.z</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">Analysis of Participants With Specific Adverse Events (Safety Analysis Population)</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Open-Source R Analysis Package</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Package Version</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Analysis Package Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">pkglite</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">0.2.0</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">Prepare submission package</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">haven</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">2.4.3</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">Read SAS datasets</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">dplyr</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">1.0.7</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">Manipulate datasets</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">tidyr</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">1.1.3</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">Manipulate datasets</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">emmeans</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">1.6.2-1</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">Least-squares means estimation</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">r2rtf</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">0.3.0</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">Create RTF tables</td>
</tr>
</tbody><tfoot>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup></sup> R package versions based on CRAN on 2021-08-06</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tfoot>

</table>


</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Proprietary R Analysis Package</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Package Version</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Analysis Package Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 18rem; border: 1px solid #000;">esubdemo</td>
<td style="text-align: left; width: 16rem; border: 1px solid #000;">0.1.0</td>
<td style="text-align: left; width: 28rem; border: 1px solid #000;">A demo package for analysis and reporting of clinical trials</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>The second section (Appendix) should include step-by-step instructions to reproduce the running environment and rerun analyses. For example:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="an">Appendix:</span><span class="co"> Instructions to Execute Analysis Program in R</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Install R</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>Download and install R 4.1.1 for Windows from</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>https://cran.r-project.org/bin/windows/base/old/4.1.1/R-4.1.1-win.exe</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Define working directory</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>Create a temporary working directory, for example, "C:\tempwork".</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>Copy all submitted R programs into the temporary folder.</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>All steps below should be executed in this working directory</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>represented as "." in the example R code below.</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Specify R package repository</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>The R packages are based on CRAN at 2021-08-06. To install the exact</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>R package versions used in this project, run the code below to set</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>the snapshot repository.</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>options(repos = "https://mran.microsoft.com/snapshot/2021-08-06/")</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Install open-source R packages</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>In the same R session, install the required packages by running the code below.</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>install.packages(c("pkglite", "publicpkg1", "publicpkg2"))</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>Install proprietary R packages</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>All internal R packages are packed in the file r0pkgs.txt. In the same R session,</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>restore the package structures and install them by running the code below.</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>Adjust the output path as needed to use a writable local directory.</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>pkglite::unpack("r0pkgs.txt", output = ".", install = TRUE)</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>Update path to dataset and TLFs</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>INPUT path: to rerun the analysis programs, define the path variable</span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Path for ADaM data: path$adam</span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>OUTPUT path: to save the analysis results, define the path variable</span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Path for output TLFs: path$output</span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>All these paths need to be defined before executing the analysis program. For example:</span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a>path = list(adam = "/path/to/esub/analysis/adam/datasets/") # Modify to use actual location</span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a>path$outtable = path$outgraph = "." # Outputs saved to the current folder</span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a><span class="ss">7. </span>Execute analysis program</span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a>To reproduce the analysis results, rerun the following programs:</span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>tlf-01-disposition.txt</span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>tlf-02-population.txt</span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>tlf-03-baseline.txt</span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>tlf-04-efficacy.txt</span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>tlf-05-ae-summary.txt</span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>tlf-06-ae-spec.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>An example ADRG following this template can be found in <a href="https://github.com/elong0527/ectddemo/blob/master/m5/datasets/ectddemo/analysis/adam/datasets/adrg.pdf">ectddemo</a>.</p>
</section>
<section id="update-arm" class="level2" data-number="14.7">
<h2 data-number="14.7" class="anchored" data-anchor-id="update-arm"><span class="header-section-number">14.7</span> Update ARM</h2>
<p>The ARM (Analysis Results Metadata) should provide specific information related to R in two sections:</p>
<ul>
<li>Section 2: indicate the <strong>Programming Language</strong>;</li>
<li>Section 3: document the details of the R programs listed in section 3.</li>
</ul>
<p>For example, in ARM section 2, “Analysis Results Metadata Summary”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (knitr<span class="sc">::</span><span class="fu">is_latex_output</span>()) {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  df4 <span class="sc">%&gt;%</span> <span class="fu">kbl</span>(<span class="at">format =</span> <span class="st">"latex"</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (knitr<span class="sc">::</span><span class="fu">is_html_output</span>()) {</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  df4 <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kbl</span>(<span class="at">format =</span> <span class="st">"html"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_classic</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">html_font =</span> <span class="st">"'Times New Roman', Times, serif"</span>, <span class="at">font_size =</span> <span class="dv">18</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">extra_css =</span> <span class="st">"border: 1px solid #000; text-align: center;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column_spec</span>(<span class="dv">2</span>, <span class="at">extra_css =</span> <span class="st">"border: 1px solid #000; text-align: center;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column_spec</span>(<span class="dv">3</span>, <span class="at">extra_css =</span> <span class="st">"border: 1px solid #000; text-align: center;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column_spec</span>(<span class="dv">4</span>, <span class="at">extra_css =</span> <span class="st">"border: 1px solid #000; text-align: center;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column_spec</span>(<span class="dv">5</span>, <span class="at">extra_css =</span> <span class="st">"border: 1px solid #000; text-align: center;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">background =</span> <span class="st">"#DFDFDF"</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">extra_css =</span> <span class="st">"border: 1px solid #000; text-align: center;"</span>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Table Reference</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Table Title</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Programming Language</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Program Name (programs)</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #DFDFDF !important; border: 1px solid #000;">Input File Name / Analysis (datasets)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; border: 1px solid #000;">[Ref. x.y.z: P001ZZZ9999: Table 1-1]</td>
<td style="text-align: left; border: 1px solid #000;">Disposition of Patients</td>
<td style="text-align: left; border: 1px solid #000;">R</td>
<td style="text-align: left; border: 1px solid #000;">tlf-01-disposition.txt</td>
<td style="text-align: left; border: 1px solid #000;">adsl.xpt</td>
</tr>
<tr class="even">
<td style="text-align: left; border: 1px solid #000;">...</td>
<td style="text-align: left; border: 1px solid #000;">...</td>
<td style="text-align: left; border: 1px solid #000;">...</td>
<td style="text-align: left; border: 1px solid #000;">...</td>
<td style="text-align: left; border: 1px solid #000;">...</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>In ARM section 3, “Analysis Results Metadata Details”:</p>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold; border: 1px solid #000;">Table Reference: [Ref. x.y.z: P001ZZZ9999: Table 1-1]</td>
<td style="text-align: left; border: 1px solid #000;">...</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; border: 1px solid #000;">Analysis Result</td>
<td style="text-align: left; border: 1px solid #000;">...</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; border: 1px solid #000;">Analysis Parameters (s)</td>
<td style="text-align: left; border: 1px solid #000;">...</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; border: 1px solid #000;">Analysis Reason</td>
<td style="text-align: left; border: 1px solid #000;">...</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; border: 1px solid #000;">Analysis Purpose</td>
<td style="text-align: left; border: 1px solid #000;">...</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; border: 1px solid #000;">...</td>
<td style="text-align: left; border: 1px solid #000;">...</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; border: 1px solid #000;">Programming Statements</td>
<td style="text-align: left; border: 1px solid #000;">(R version 4.1.1), [P001ZZZ9999: programs-tlf-01-disposition]</td>
</tr>
</tbody>
</table>


</div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-zhao2023electronic" class="csl-entry" role="listitem">
Zhao, Yujie, Nan Xiao, Keaven Anderson, and Yilong Zhang. 2023. <span>“Electronic Common Technical Document Submission with Analysis Using <span>R</span>.”</span> <em>Clinical Trials</em> 20 (1): 89–92.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./submission-overview.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Overview</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./submission-environment.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Running environment</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>